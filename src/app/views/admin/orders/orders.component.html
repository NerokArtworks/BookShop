<div class="h-full ml-14 mt-14 dash-container border-b border-gray-300 rounded-bl-md pb-10 md:ml-64 bg-gradient-to-b from-[#FFFFFF] to-[#F9E6E0]">

    <!-- Statistics Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 p-4 gap-4">
        <div
            class="bg-white hover:shadow-xl hover:translate-y-0.5 transition-all duration-300 shadow-lg rounded-md flex items-center justify-between p-3 border-b-4 border-orange-400 text-gray-900 font-medium group">
            <div
                class="flex justify-center items-center w-14 h-14 border border-gray-200 group-hover:border-gray-600 rounded-full transition-all duration-300 transform group-hover:scale-105 group-hover:shadow-md">
                <svg width="30" height="30" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    class="stroke-current text-orange-500 transform transition-transform duration-500 ease-in-out">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
            </div>
            <div class="text-right flex items-center gap-2">
                <div>
                    <p class="text-2xl" *ngIf="pedidos">{{pedidos.length}}</p>
                    <p>Pedidos</p>
                </div>
            </div>
        </div>
        <div
            class="bg-white hover:shadow-xl hover:translate-y-0.5 transition-all duration-300 shadow-lg rounded-md flex items-center justify-between p-3 border-b-4 border-orange-400 text-gray-900 font-medium group">
            <div
                class="flex justify-center items-center w-14 h-14 border border-gray-200 rounded-full transition-all duration-300 transform group-hover:scale-105 group-hover:border-gray-500 group-hover:shadow-md">
                <svg width="30" height="30" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    class="stroke-current text-orange-500 transform transition-transform duration-500 ease-in-out">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                </svg>
            </div>
            <div class="text-right flex items-center">
                <div>
                    <p class="text-2xl" *ngIf="sales">{{sales.toFixed(2)}} €</p>
                    <p>Ventas</p>
                </div>
            </div>
        </div>
    </div>
    <!-- ./Statistics Cards -->

    <div class="grid grid-cols-1 lg:grid-cols-1 p-4 gap-4">

        <!-- Social Traffic -->
        <div
            class="relative flex flex-col min-w-0 mb-4 lg:mb-0 break-words bg-gray-50 w-full shadow-lg rounded">
            <section class="rounded-t mb-0 px-0 border-0">
                <div class="flex flex-wrap items-center px-4 py-2">
                    <div class="relative w-full max-w-full flex-grow flex-1">
                        <h3 class="font-semibold text-base text-gray-900">Pedidos</h3>
                    </div>
                    <div class="relative w-full max-w-full flex-grow flex-1 text-right">
                        <!-- <button
                            class="bg-white text-gray-900 active:bg-white-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                            type="button">See all</button> -->
                    </div>
                </div>
                <div class="block w-full overflow-x-auto">
                    <table class="items-center w-full bg-transparent border-collapse">
                        <thead>
                            <tr>
                                <th (click)="ordenarRegistros('id', 'pedidos')"
                                    class="px-4 sortable select-none cursor-pointer hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                                    ID Pedido
                                    <span *ngIf="ordenActual.columna === 'id'" class="sort-icon transition-all duration-300" [class]="'fa ' + (ordenActual.direccion === 'asc' ? 'fa-chevron-up' : 'fa-chevron-down')">
                                        <!-- <i [ngClass]="{'bi bi-arrow-up': ordenActual.direccion === 'asc', 'bi bi-arrow-down': ordenActual.direccion === 'desc'}"></i> -->
                                    </span>
                                </th>
                                <th (click)="ordenarRegistros('usuario', 'pedidos')"
                                    class="px-4 sortable select-none cursor-pointer hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                                    Usuario
                                    <span *ngIf="ordenActual.columna === 'usuario'" class="sort-icon transition-all duration-300" [class]="'fa ' + (ordenActual.direccion === 'asc' ? 'fa-chevron-up' : 'fa-chevron-down')">
                                        <!-- <i [ngClass]="{'bi bi-arrow-up': ordenActual.direccion === 'asc', 'bi bi-arrow-down': ordenActual.direccion === 'desc'}"></i> -->
                                    </span>
                                </th>
                                <th (click)="ordenarRegistros('importe', 'pedidos')"
                                    class="px-4 sortable select-none cursor-pointer hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                                    Importe
                                    <span *ngIf="ordenActual.columna === 'importe'" class="sort-icon transition-all duration-300" [class]="'fa ' + (ordenActual.direccion === 'asc' ? 'fa-chevron-up' : 'fa-chevron-down')">
                                        <!-- <i [ngClass]="{'bi bi-arrow-up': ordenActual.direccion === 'asc', 'bi bi-arrow-down': ordenActual.direccion === 'desc'}"></i> -->
                                    </span>
                                </th>
                                <th (click)="ordenarRegistros('fecha', 'pedidos')"
                                    class="px-4 sortable select-none cursor-pointer hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                                    Fecha
                                    <span *ngIf="ordenActual.columna === 'fecha'" class="sort-icon transition-all duration-300" [class]="'fa ' + (ordenActual.direccion === 'asc' ? 'fa-chevron-up' : 'fa-chevron-down')">
                                        <!-- <i [ngClass]="{'bi bi-arrow-up': ordenActual.direccion === 'asc', 'bi bi-arrow-down': ordenActual.direccion === 'desc'}"></i> -->
                                    </span>
                                </th>
                                <th (click)="ordenarRegistros('tracking', 'pedidos')"
                                    class="px-4 sortable select-none cursor-pointer hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left min-w-140-px">
                                    Tracking
                                    <span *ngIf="ordenActual.columna === 'tracking'" class="sort-icon transition-all duration-300" [class]="'fa ' + (ordenActual.direccion === 'asc' ? 'fa-chevron-up' : 'fa-chevron-down')">
                                        <!-- <i [ngClass]="{'bi bi-arrow-up': ordenActual.direccion === 'asc', 'bi bi-arrow-down': ordenActual.direccion === 'desc'}"></i> -->
                                    </span>
                                </th>
                                <th
                                    class="px-4 text-center w-min sortable select-none cursor-pointer hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                                    Entregado
                                </th>
                                <th
                                    class="px-4 text-center select-none hover:text-orange-400 hover:bg-white transition-all duration-300 bg-gray-100 text-gray-500 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left min-w-140-px">
                                    Acciones
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-gray-700 border-t border-gray-200 border-dashed" *ngFor="let p of getBooksForPage() | slice: startIndex:endIndex" [@fadeAnimation]>
                                <th
                                    class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left">
                                    {{p.id}}</th>
                                <th
                                    class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left">
                                    {{p.usuario.username}}</th>
                                <td
                                    class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{numberFormat(p.importe, 2, ',', '.')}} €</td>
                                <td
                                    class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{p.fecha}}</td>
                                <td
                                    class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    <div class="flex items-center">
                                        <span class="mr-2">{{p.tracking}}%</span>
                                        <div class="relative w-full">
                                            <div class="overflow-hidden h-2 text-xs flex rounded bg-gray-200">
                                                <div [style.width.%]="p.tracking"
                                                    class="shadow-none flex flex-col text-center whitespace-nowrap text-gray-900 justify-center bg-orange-400">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td
                                    class="border-t-0 px-4 text-center align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    <input type="checkbox" [checked]="p.entregado == 1" (change)="setDelivered(p)" class="text-orange-400 focus:ring-orange-400 rounded-3xl cursor-pointer"></td>
                                <td
                                    class="border-t-0 px-4 align-middle text-center border-l-0 border-r-0 text-xs p-4">
                                    <span class="flex justify-center" (click)="openOrder(p)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-pencil-square cursor-pointer hover:text-orange-400 transition-all duration-100 hover:scale-110" viewBox="0 0 16 16">
                                            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                        </svg>
                                    </span>
                                    <span class="text-sm text-gray-400">-</span>
                                    <span class="flex justify-center" (click)="openConfirmationDialog(p)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-trash cursor-pointer hover:text-orange-400 transition-all duration-100 hover:scale-110" viewBox="0 0 16 16">
                                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
                                            <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"/>
                                          </svg>
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <mat-paginator class="xl:w-10/12 2xl:w-full mx-auto mt-5 rounded-md" [length]="pedidos.length" [pageSize]="5" [pageSizeOptions]="[5, 10, 20, 50]" (page)="onPageChange($event)"></mat-paginator>
            </section>
        </div>
        <!-- ./Social Traffic -->
    </div>
</div>
